<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title></title>
</head>
<body>
	<script src="../js/json2.js"></script>
	<!--浅拷贝-->
	<script>
		var obj = {name:'hello'};
		var obj2 = {};
		for(var attr in obj){
			obj2[attr] = obj[attr];
		}
		obj2.name = 'nihaoma';
		console.log(obj.name);//hello
		console.log(obj2.name);//nihaoma
//	深拷贝  方法一：
		var obj = {
			name:{age:100}
		}
		function deepCopy(obj){
			if(typeof obj != "object"){
				return obj;
			}
			var newobj = {};
			for(var attr in obj){
				newobj[attr] =deepCopy (obj[attr])
			}
			return newobj
		}
		var obj2 = deepCopy(obj);
		obj2.name.age = 200;
		console.log(obj.name.age)
		
//	深拷贝  方法二：
		var obj = {
			name:{age:100}
		};
		var str = JSON.stringify(obj);
		var obj2 = JSON.parse(str);
		obj2.name.age = 200;
		console.log(obj.name.age)

		var obj = {
			name:'leo',
			age:23,
			arr:[1,2,3,4]
		};
		var obj2 = sdClone(obj,true);
		function sdClone(obj,onOff){
			var v = obj.constructor == Array?[]:{};
			for(var attr in obj){
				if(typeof obj[attr] == 'object' && obj[attr]!=null && onOff){
					v[attr] = sdClone(obj[attr]);
				}else{
					v[attr] = obj[attr];
				}
			}
			return v;
		}
		obj2.arr.push(5);
		console.log(obj.arr);
	</script>
</body>
</html>
